<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
  </head>
  <body>
    <h1><%= title %></h1>

    <!-- If there are results to display -->
    <% if(searchName || searchEmail) { %>
    <div>
      <% if (results.length > 0) { %>
      <h2>Search Results:</h2>
      <ul>
        <% results.forEach(user => { %>
        <li>
          <p>
            <strong>Name:</strong> <%= user.firstName %> <%= user.lastName %>
          </p>
          <p><strong>Email:</strong> <%= user.email %></p>
          <% if (user.age) { %>
          <p><strong>Age:</strong> <%= user.age %></p>
          <% } %> <% if (user.bio) { %>
          <p><strong>Bio:</strong> <%= user.bio %></p>
          <% } %>
        </li>
        <% }); %>
      </ul>
      <% } else { %>
      <h2>No users found.</h2>
      <% } %>
    </div>
    <a href="/search">Back to search</a>

    <% } else { %>

    <form action="/search" method="GET">
      <label for="searchName">Search by Name:</label>
      <input type="text" name="searchName" id="searchName" />

      <label for="searchEmail">Search by Email:</label>
      <input type="text" name="searchEmail" id="searchEmail" />

      <button type="submit">Search</button>
    </form>

    <% } %>

    <a href="/">Back to home</a>
  </body>
</html>
